<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>specialmer-dalgen</tt>, a DAL (Data Access Layer)  -->
<!-- code generation utility specially developed for <tt>rent</tt> project.     -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>specialmer-dalgen</tt> to generate this file.                                -->
<!--                                                                               -->
<!-- @author peigen                                                             -->
<!-- ============================================================================= -->

<sqlMap namespace="specialmer">
    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->

    <!-- result maps for database table consent_issue_notice -->
    <resultMap id="RM-CONSENT-ISSUE-NOTICE" class="com.born.fcs.pm.dal.dataobject.ConsentIssueNoticeDO">
        <result property="noticeId" column="notice_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="projectCode" column="project_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="projectName" column="project_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerId" column="customer_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="customerName" column="customer_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="customerType" column="customer_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="busiType" column="busi_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="busiTypeName" column="busi_type_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="busiManagerId" column="busi_manager_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="busiManagerAccount" column="busi_manager_account" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="busiManagerName" column="busi_manager_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="isUploadReceipt" column="is_upload_receipt" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="receiptAttachment" column="receipt_attachment" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="yourCooperationCompany" column="your_cooperation_company" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="yourCooperationAttachment" column="your_cooperation_attachment" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="myCooperationCompany" column="my_cooperation_company" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="myCooperationAttachment" column="my_cooperation_attachment" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="myCooperationContractNo" column="my_cooperation_contract_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="html" column="html" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>


    <!-- ============================================= -->
    <!-- mapped statements for IbatisConsentIssueNoticeDAO -->
    <!-- ============================================= -->
    <!-- mapped statement for IbatisConsentIssueNoticeDAO.insert -->
    <insert id="MS-CONSENT-ISSUE-NOTICE-INSERT">
        INSERT /*MS-YRD-CONSENT-ISSUE-NOTICE-INSERT*/ INTO consent_issue_notice
					(notice_id,
						project_code,
						project_name,
						customer_id,
						customer_name,
						customer_type,
						busi_type,
						busi_type_name,
						busi_manager_id,
						busi_manager_account,
						busi_manager_name,
						is_upload_receipt,
						receipt_attachment,
						your_cooperation_company,
						your_cooperation_attachment,
						my_cooperation_company,
						my_cooperation_attachment,
						my_cooperation_contract_no,
						html,
						raw_add_time)   
					values (#noticeId#, #projectCode#, #projectName#, #customerId#, #customerName#,#customerType#, #busiType#,#busiTypeName#,#busiManagerId#, #busiManagerAccount#,#busiManagerName#, #isUploadReceipt#, #receiptAttachment#,#yourCooperationCompany#,#yourCooperationAttachment#,#myCooperationCompany#,#myCooperationAttachment#,#myCooperationContractNo#,#html#,SYSDATE())
				<selectKey  resultClass ="long"  keyProperty ="noticeId" >   
		          		 SELECT LAST_INSERT_ID() AS ID 
		      	</selectKey>
    </insert>

    <!-- mapped statement for IbatisConsentIssueNoticeDAO.update -->
    <update id="MS-CONSENT-ISSUE-NOTICE-UPDATE">
    <![CDATA[
        update /*MS-YRD-CONSENT-ISSUE-NOTICE-UPDATE*/ consent_issue_notice set project_code=#projectCode#, project_name=#projectName#, customer_id=#customerId#, customer_name=#customerName#, customer_type=#customerType#, busi_type=#busiType#, busi_type_name=#busiTypeName#, busi_manager_id=#busiManagerId#, busi_manager_account=#busiManagerAccount#, busi_manager_name=#busiManagerName#, is_upload_receipt=#isUploadReceipt#, receipt_attachment=#receiptAttachment#, your_cooperation_company=#yourCooperationCompany#, your_cooperation_attachment=#yourCooperationAttachment#, my_cooperation_company=#myCooperationCompany#, my_cooperation_attachment=#myCooperationAttachment#, my_cooperation_contract_no=#myCooperationContractNo#, html=#html# where (notice_id = #noticeId#)
    ]]>
    </update>

    <!-- mapped statement for IbatisConsentIssueNoticeDAO.findById -->
    <select id="MS-CONSENT-ISSUE-NOTICE-FIND-BY-ID" resultMap="RM-CONSENT-ISSUE-NOTICE">
    <![CDATA[
        select /*MS-YRD-CONSENT-ISSUE-NOTICE-FIND-BY-ID*/ * from consent_issue_notice where (notice_id = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisConsentIssueNoticeDAO.deleteById -->
    <delete id="MS-CONSENT-ISSUE-NOTICE-DELETE-BY-ID">
    <![CDATA[
        delete /*MS-YRD-CONSENT-ISSUE-NOTICE-DELETE-BY-ID*/ from consent_issue_notice where (notice_id = #value#)
    ]]>
    </delete>

    <!-- mapped statement for IbatisConsentIssueNoticeDAO.findByCondition -->
    <select id="MS-CONSENT-ISSUE-NOTICE-FIND-BY-CONDITION" resultMap="RM-CONSENT-ISSUE-NOTICE">
        SELECT /*MS-YRD-CONSENT-ISSUE-NOTICE-FIND-BY-CONDITION*/  *  FROM consent_issue_notice  
			WHERE 1=1 

			<dynamic>
			
			<isGreaterThan property="consentIssueNotice.noticeId" compareValue="0" prepend=" and ">
				notice_id = #consentIssueNotice.noticeId# 
			</isGreaterThan>
			
			<isGreaterThan property="consentIssueNotice.customerId" compareValue="0" prepend=" and ">
				customer_id = #consentIssueNotice.customerId# 
			</isGreaterThan>
			
			<isGreaterThan property="consentIssueNotice.busiManagerId" compareValue="0" prepend=" and ">
				 busi_manager_id = #consentIssueNotice.busiManagerId# 
			</isGreaterThan>
			
			<isNotEmpty property="consentIssueNotice.projectCode"  prepend=" and ">
				project_code = #consentIssueNotice.projectCode# 
			</isNotEmpty>
			
			<isNotEmpty property="consentIssueNotice.projectName"  prepend=" and ">
				project_name = #consentIssueNotice.projectName# 
			</isNotEmpty>
			
			<isNotEmpty property="consentIssueNotice.customerName"  prepend=" and ">
				 customerName = #consentIssueNotice.customerName# 
			</isNotEmpty>
	           <isNotEmpty property="consentIssueNotice.busiType" prepend=" and ">
	               busi_type like concat(#consentIssueNotice.busiType#,'%')
	           </isNotEmpty>
			<isNotEmpty property="consentIssueNotice.busiTypeName" prepend=" and ">
	               busi_type_name =#consentIssueNotice.busiTypeName#
	           </isNotEmpty>
	           <isNotEmpty property="consentIssueNotice.isUploadReceipt" prepend=" and ">
	               is_upload_receipt =#consentIssueNotice.isUploadReceipt#
	           </isNotEmpty>
			</dynamic>
			order by raw_add_time desc
			<isGreaterThan property="pageSize" compareValue="0" prepend="">
				LIMIT #limitStart#,#pageSize#
			</isGreaterThan>
    </select>

    <!-- mapped statement for IbatisConsentIssueNoticeDAO.findByConditionCount -->
    <select id="MS-CONSENT-ISSUE-NOTICE-FIND-BY-CONDITION-COUNT" resultClass="long">
        SELECT /*MS-YRD-CONSENT-ISSUE-NOTICE-FIND-BY-CONDITION-COUNT*/  count(*)  FROM consent_issue_notice 
			WHERE 1=1
			<dynamic>
			
			<isGreaterThan property="consentIssueNotice.noticeId" compareValue="0" prepend=" and ">
				notice_id = #consentIssueNotice.noticeId# 
			</isGreaterThan>
			
			<isGreaterThan property="consentIssueNotice.customerId" compareValue="0" prepend=" and ">
				customer_id = #consentIssueNotice.customerId# 
			</isGreaterThan>
			
			<isGreaterThan property="consentIssueNotice.busiManagerId" compareValue="0" prepend=" and ">
				 busi_manager_id = #consentIssueNotice.busiManagerId# 
			</isGreaterThan>
			
			<isNotEmpty property="consentIssueNotice.projectCode"  prepend=" and ">
				project_code = #consentIssueNotice.projectCode# 
			</isNotEmpty>
			
			<isNotEmpty property="consentIssueNotice.projectName"  prepend=" and ">
				project_name = #consentIssueNotice.projectName# 
			</isNotEmpty>
			
			<isNotEmpty property="consentIssueNotice.customerName"  prepend=" and ">
				 customerName = #consentIssueNotice.customerName# 
			</isNotEmpty>
	           <isNotEmpty property="consentIssueNotice.busiType" prepend=" and ">
	               busi_type like concat(#consentIssueNotice.busiType#,'%')
	           </isNotEmpty>
			<isNotEmpty property="consentIssueNotice.busiTypeName" prepend=" and ">
	               busi_type_name =#consentIssueNotice.busiTypeName#
	           </isNotEmpty>
	           <isNotEmpty property="consentIssueNotice.isUploadReceipt" prepend=" and ">
	               is_upload_receipt =#consentIssueNotice.isUploadReceipt#
	           </isNotEmpty>
			</dynamic>
    </select>

</sqlMap>
