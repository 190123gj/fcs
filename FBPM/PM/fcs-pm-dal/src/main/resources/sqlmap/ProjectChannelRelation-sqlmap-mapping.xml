<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>specialmer-dalgen</tt>, a DAL (Data Access Layer)  -->
<!-- code generation utility specially developed for <tt>rent</tt> project.     -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>specialmer-dalgen</tt> to generate this file.                                -->
<!--                                                                               -->
<!-- @author peigen                                                             -->
<!-- ============================================================================= -->

<sqlMap namespace="specialmer">
    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->

    <!-- result maps for database table project_channel_relation -->
    <resultMap id="RM-PROJECT-CHANNEL-RELATION" class="com.born.fcs.pm.dal.dataobject.ProjectChannelRelationDO">
        <result property="id" column="id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="bizNo" column="biz_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="phases" column="phases" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="projectCode" column="project_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="busiType" column="busi_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="busiTypeName" column="busi_type_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="channelRelation" column="channel_relation" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="channelId" column="channel_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="channelCode" column="channel_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="channelType" column="channel_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="channelName" column="channel_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="subChannelId" column="sub_channel_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="subChannelCode" column="sub_channel_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="subChannelType" column="sub_channel_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="subChannelName" column="sub_channel_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="contractAmount" column="contract_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="liquidityLoansAmount" column="liquidity_loans_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="financialAmount" column="financial_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="acceptanceBillAmount" column="acceptance_bill_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="creditAmount" column="credit_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="loanedAmount" column="loaned_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="loanLiquidityLoansAmount" column="loan_liquidity_loans_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="loanFinancialAmount" column="loan_financial_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="loanAcceptanceBillAmount" column="loan_acceptance_bill_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="loanCreditAmount" column="loan_credit_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="usedAmount" column="used_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="compAmount" column="comp_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="compLiquidityLoansAmount" column="comp_liquidity_loans_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="compFinancialAmount" column="comp_financial_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="compAcceptanceBillAmount" column="comp_acceptance_bill_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="compCreditAmount" column="comp_credit_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="releasableAmount" column="releasable_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="releasedAmount" column="released_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="releaseLiquidityLoansAmount" column="release_liquidity_loans_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="releaseFinancialAmount" column="release_financial_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="releaseAcceptanceBillAmount" column="release_acceptance_bill_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="releaseCreditAmount" column="release_credit_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="repayedAmount" column="repayed_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="inAmount" column="in_amount" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="newCustomer" column="new_customer" javaType="double" jdbcType="DOUBLE" nullValue="0"/>
        <result property="newProject" column="new_project" javaType="double" jdbcType="DOUBLE" nullValue="0"/>
        <result property="inCutomer" column="in_cutomer" javaType="double" jdbcType="DOUBLE" nullValue="0"/>
        <result property="inProject" column="in_project" javaType="double" jdbcType="DOUBLE" nullValue="0"/>
        <result property="latest" column="latest" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>


    <!-- ============================================= -->
    <!-- mapped statements for IbatisProjectChannelRelationDAO -->
    <!-- ============================================= -->
    <!-- mapped statement for IbatisProjectChannelRelationDAO.insert -->
    <insert id="MS-PROJECT-CHANNEL-RELATION-INSERT">
    <![CDATA[
        insert /*MS-YRD-PROJECT-CHANNEL-RELATION-INSERT*/ into project_channel_relation(id,biz_no,phases,project_code,busi_type,busi_type_name,channel_relation,channel_id,channel_code,channel_type,channel_name,sub_channel_id,sub_channel_code,sub_channel_type,sub_channel_name,contract_amount,liquidity_loans_amount,financial_amount,acceptance_bill_amount,credit_amount,loaned_amount,loan_liquidity_loans_amount,loan_financial_amount,loan_acceptance_bill_amount,loan_credit_amount,used_amount,comp_amount,comp_liquidity_loans_amount,comp_financial_amount,comp_acceptance_bill_amount,comp_credit_amount,releasable_amount,released_amount,release_liquidity_loans_amount,release_financial_amount,release_acceptance_bill_amount,release_credit_amount,repayed_amount,in_amount,new_customer,new_project,in_cutomer,in_project,latest,raw_add_time) values (#id#, #bizNo#, #phases#, #projectCode#, #busiType#, #busiTypeName#, #channelRelation#, #channelId#, #channelCode#, #channelType#, #channelName#, #subChannelId#, #subChannelCode#, #subChannelType#, #subChannelName#, #contractAmount.cent#, #liquidityLoansAmount.cent#, #financialAmount.cent#, #acceptanceBillAmount.cent#, #creditAmount.cent#, #loanedAmount.cent#, #loanLiquidityLoansAmount.cent#, #loanFinancialAmount.cent#, #loanAcceptanceBillAmount.cent#, #loanCreditAmount.cent#, #usedAmount.cent#, #compAmount.cent#, #compLiquidityLoansAmount.cent#, #compFinancialAmount.cent#, #compAcceptanceBillAmount.cent#, #compCreditAmount.cent#, #releasableAmount.cent#, #releasedAmount.cent#, #releaseLiquidityLoansAmount.cent#, #releaseFinancialAmount.cent#, #releaseAcceptanceBillAmount.cent#, #releaseCreditAmount.cent#, #repayedAmount.cent#, #inAmount.cent#, #newCustomer#, #newProject#, #inCutomer#, #inProject#, #latest#, #rawAddTime#)
    ]]>
    </insert>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.update -->
    <update id="MS-PROJECT-CHANNEL-RELATION-UPDATE">
    <![CDATA[
        update /*MS-YRD-PROJECT-CHANNEL-RELATION-UPDATE*/ project_channel_relation set biz_no=#bizNo#, phases=#phases#, project_code=#projectCode#, busi_type=#busiType#, busi_type_name=#busiTypeName#, channel_relation=#channelRelation#, channel_id=#channelId#, channel_code=#channelCode#, channel_type=#channelType#, channel_name=#channelName#, sub_channel_id=#subChannelId#, sub_channel_code=#subChannelCode#, sub_channel_type=#subChannelType#, sub_channel_name=#subChannelName#, contract_amount=#contractAmount.cent#, liquidity_loans_amount=#liquidityLoansAmount.cent#, financial_amount=#financialAmount.cent#, acceptance_bill_amount=#acceptanceBillAmount.cent#, credit_amount=#creditAmount.cent#, loaned_amount=#loanedAmount.cent#, loan_liquidity_loans_amount=#loanLiquidityLoansAmount.cent#, loan_financial_amount=#loanFinancialAmount.cent#, loan_acceptance_bill_amount=#loanAcceptanceBillAmount.cent#, loan_credit_amount=#loanCreditAmount.cent#, used_amount=#usedAmount.cent#, comp_amount=#compAmount.cent#, comp_liquidity_loans_amount=#compLiquidityLoansAmount.cent#, comp_financial_amount=#compFinancialAmount.cent#, comp_acceptance_bill_amount=#compAcceptanceBillAmount.cent#, comp_credit_amount=#compCreditAmount.cent#, releasable_amount=#releasableAmount.cent#, released_amount=#releasedAmount.cent#, release_liquidity_loans_amount=#releaseLiquidityLoansAmount.cent#, release_financial_amount=#releaseFinancialAmount.cent#, release_acceptance_bill_amount=#releaseAcceptanceBillAmount.cent#, release_credit_amount=#releaseCreditAmount.cent#, repayed_amount=#repayedAmount.cent#, in_amount=#inAmount.cent#, new_customer=#newCustomer#, new_project=#newProject#, in_cutomer=#inCutomer#, in_project=#inProject#, latest=#latest# where (id = #id#)
    ]]>
    </update>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.updateVersion -->
    <update id="MS-PROJECT-CHANNEL-RELATION-UPDATE-VERSION">
    <![CDATA[
        update /*MS-YRD-PROJECT-CHANNEL-RELATION-UPDATE-VERSION*/ project_channel_relation set latest='NO' where ((project_code = #projectCode#) AND (channel_relation = #channelRelation#))
    ]]>
    </update>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.findById -->
    <select id="MS-PROJECT-CHANNEL-RELATION-FIND-BY-ID" resultMap="RM-PROJECT-CHANNEL-RELATION">
    <![CDATA[
        select /*MS-YRD-PROJECT-CHANNEL-RELATION-FIND-BY-ID*/ * from project_channel_relation where (id = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.findByBizNo -->
    <select id="MS-PROJECT-CHANNEL-RELATION-FIND-BY-BIZ-NO" resultMap="RM-PROJECT-CHANNEL-RELATION">
    <![CDATA[
        select /*MS-YRD-PROJECT-CHANNEL-RELATION-FIND-BY-BIZ-NO*/ * from project_channel_relation where (biz_no = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.findAll -->
    <select id="MS-PROJECT-CHANNEL-RELATION-FIND-ALL" resultMap="RM-PROJECT-CHANNEL-RELATION">
    <![CDATA[
        select /*MS-YRD-PROJECT-CHANNEL-RELATION-FIND-ALL*/ * from project_channel_relation where (latest = 'YES') order by project_code ASC
    ]]>
    </select>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.findByBizNoAndType -->
    <select id="MS-PROJECT-CHANNEL-RELATION-FIND-BY-BIZ-NO-AND-TYPE" resultMap="RM-PROJECT-CHANNEL-RELATION">
    <![CDATA[
        select /*MS-YRD-PROJECT-CHANNEL-RELATION-FIND-BY-BIZ-NO-AND-TYPE*/ * from project_channel_relation where ((biz_no = #bizNo#) AND (channel_relation = #channelRelation#))
    ]]>
    </select>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.findByProjectlatest -->
    <select id="MS-PROJECT-CHANNEL-RELATION-FIND-BY-PROJECTLATEST" resultMap="RM-PROJECT-CHANNEL-RELATION">
    <![CDATA[
        select /*MS-YRD-PROJECT-CHANNEL-RELATION-FIND-BY-PROJECTLATEST*/ * from project_channel_relation where ((project_code = #projectCode#) AND (channel_relation = #channelRelation#) AND (latest = 'YES'))
    ]]>
    </select>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.deleteById -->
    <delete id="MS-PROJECT-CHANNEL-RELATION-DELETE-BY-ID">
    <![CDATA[
        delete /*MS-YRD-PROJECT-CHANNEL-RELATION-DELETE-BY-ID*/ from project_channel_relation where (id = #value#)
    ]]>
    </delete>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.deleteByBizNo -->
    <delete id="MS-PROJECT-CHANNEL-RELATION-DELETE-BY-BIZ-NO">
    <![CDATA[
        delete /*MS-YRD-PROJECT-CHANNEL-RELATION-DELETE-BY-BIZ-NO*/ from project_channel_relation where (biz_no = #value#)
    ]]>
    </delete>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.deleteByBizNoAndType -->
    <delete id="MS-PROJECT-CHANNEL-RELATION-DELETE-BY-BIZ-NO-AND-TYPE">
    <![CDATA[
        delete /*MS-YRD-PROJECT-CHANNEL-RELATION-DELETE-BY-BIZ-NO-AND-TYPE*/ from project_channel_relation where ((biz_no = #bizNo#) AND (channel_relation = #channelRelation#))
    ]]>
    </delete>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.findByCondition -->
    <select id="MS-PROJECT-CHANNEL-RELATION-FIND-BY-CONDITION" resultMap="RM-PROJECT-CHANNEL-RELATION">
        SELECT /*MS-YRD-PROJECT-CHANNEL-RELATION-FIND-BY-CONDITION*/ * FROM project_channel_relation where 1=1
	        <dynamic>
	            <isGreaterThan property="projectChannelRelation.id"  compareValue="0" prepend=" and ">
	                id = #projectChannelRelation.id#
	            </isGreaterThan>	        
	            <isGreaterThan property="projectChannelRelation.channelId"  compareValue="0" prepend=" and ">
	                channel_id = #projectChannelRelation.channelId#
	            </isGreaterThan>
	            <isNotEmpty property="projectChannelRelation.bizNo" prepend=" and ">
	              	biz_no = #projectChannelRelation.bizNo#
	            </isNotEmpty>
	            <isNotEmpty property="projectChannelRelation.channelCode" prepend=" and ">
	              	channel_code = #projectChannelRelation.channelCode#
	            </isNotEmpty>
            	<isNotEmpty property="projectChannelRelation.channelName" prepend=" and ">
	               channel_name like concat('%',#projectChannelRelation.channelName#,'%')
	            </isNotEmpty>					            	            
	            <isGreaterThan property="projectChannelRelation.subChannelId"  compareValue="0" prepend=" and ">
	               sub_channel_id = #projectChannelRelation.subChannelId#
	            </isGreaterThan>
	            <isNotEmpty property="projectChannelRelation.subChannelCode" prepend=" and ">
	              	sub_channel_code = #projectChannelRelation.subChannelCode#
	            </isNotEmpty>
            	<isNotEmpty property="projectChannelRelation.subChannelName" prepend=" and ">
	               sub_channel_name like concat('%',#projectChannelRelation.subChannelName#,'%')
	            </isNotEmpty>					            	            
	            <isNotEmpty property="projectChannelRelation.projectCode" prepend=" and ">
	            	project_code = #projectChannelRelation.projectCode#
	            </isNotEmpty>
	            <isNotEmpty property="projectChannelRelation.channelRelation" prepend=" and ">
	               channel_relation = #projectChannelRelation.channelRelation#
	            </isNotEmpty>
	            <isNotEmpty property="projectChannelRelation.phases" prepend=" and ">
	               phases = #projectChannelRelation.phases#
	            </isNotEmpty>
	            <isNotEmpty property="projectChannelRelation.latest" prepend=" and ">
	               latest = #projectChannelRelation.latest#
	            </isNotEmpty>
	        </dynamic>
	         <isNotEmpty property="sortCol" prepend=" order by ">
	             $sortCol$
	                <isNotEmpty property="sortOrder">
              	 		$sortOrder$
             		</isNotEmpty>
	         </isNotEmpty>
            LIMIT #limitStart#,#pageSize#;
    </select>

    <!-- mapped statement for IbatisProjectChannelRelationDAO.findByConditionCount -->
    <select id="MS-PROJECT-CHANNEL-RELATION-FIND-BY-CONDITION-COUNT" resultClass="long">
        SELECT /*MS-YRD-PROJECT-CHANNEL-RELATION-FIND-BY-CONDITION-COUNT*/  count(*)  FROM project_channel_relation WHERE  1=1
	        <dynamic>
	            <isGreaterThan property="id"  compareValue="0" prepend=" and ">
	                id = #id#
	            </isGreaterThan>	        
	            <isGreaterThan property="channelId"  compareValue="0" prepend=" and ">
	                channel_id = #channelId#
	            </isGreaterThan>
	            <isNotEmpty property="bizNo" prepend=" and ">
	              	biz_no = #bizNo#
	            </isNotEmpty>	            
	            <isNotEmpty property="channelCode" prepend=" and ">
	              	channel_code = #channelCode#
	            </isNotEmpty>
            	<isNotEmpty property="channelName" prepend=" and ">
	               channel_name like concat('%',#channelName#,'%')
	            </isNotEmpty>					            	            
	            <isGreaterThan property="subChannelId"  compareValue="0" prepend=" and ">
	               sub_channel_id = #subChannelId#
	            </isGreaterThan>
	            <isNotEmpty property="subChannelCode" prepend=" and ">
	              	sub_channel_code = #subChannelCode#
	            </isNotEmpty>
            	<isNotEmpty property="subChannelName" prepend=" and ">
	               sub_channel_name like concat('%',#subChannelName#,'%')
	            </isNotEmpty>					            	            
	            <isNotEmpty property="projectCode" prepend=" and ">
	            	project_code = #projectCode#
	            </isNotEmpty>
	            <isNotEmpty property="channelRelation" prepend=" and ">
	               channel_relation = #channelRelation#
	            </isNotEmpty>
	            <isNotEmpty property="phases" prepend=" and ">
	               phases = #phases#
	            </isNotEmpty>
	            <isNotEmpty property="latest" prepend=" and ">
	               latest = #latest#
	            </isNotEmpty>
	        </dynamic>
    </select>

</sqlMap>
