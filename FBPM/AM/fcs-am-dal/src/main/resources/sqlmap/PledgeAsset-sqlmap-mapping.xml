<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!-- ==========================================================  -->
<!-- Configuration for ibatis sqlmap mapping.                    -->
<!-- ==========================================================  -->

<!-- ============================================================================= -->
<!-- This file is generated by <tt>specialmer-dalgen</tt>, a DAL (Data Access Layer)  -->
<!-- code generation utility specially developed for <tt>rent</tt> project.     -->
<!--                                                                               -->
<!-- PLEASE DO NOT MODIFY THIS FILE MANUALLY, or else your modification may be     -->
<!-- OVERWRITTEN by someone else. To modify the file, you should go to directory   -->
<!-- <tt>(project-home)/biz/dal/src/conf/dalgen</tt>, and find the corresponding   -->
<!-- configuration files. Modify those files according to your needs, then run     -->
<!-- <tt>specialmer-dalgen</tt> to generate this file.                                -->
<!--                                                                               -->
<!-- @author peigen                                                             -->
<!-- ============================================================================= -->

<sqlMap namespace="specialmer">
    <!-- ============================================= -->
    <!-- RESULT MAPS                                   -->
    <!-- ============================================= -->

    <!-- result maps for database table pledge_asset -->
    <resultMap id="RM-PLEDGE-ASSET" class="com.born.fcs.am.dal.dataobject.PledgeAssetDO">
        <result property="assetsId" column="assets_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="typeId" column="type_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="assetType" column="asset_type" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="assetTypeDesc" column="asset_type_desc" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="projectCode" column="project_code" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="projectName" column="project_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="ownershipId" column="ownership_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="ownershipName" column="ownership_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="isCustomer" column="is_customer" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="warrantNo" column="warrant_no" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="evaluationPrice" column="evaluation_price" javaType="com.yjf.common.lang.util.money.Money" jdbcType="BIGINT"/>
        <result property="status" column="status" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="longitude" column="longitude" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="latitude" column="latitude" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="userId" column="user_id" javaType="long" jdbcType="BIGINT" nullValue="0"/>
        <result property="userAccount" column="user_account" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="userName" column="user_name" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="searchKey" column="search_key" javaType="java.lang.String" jdbcType="VARCHAR"/>
        <result property="ralateVideo" column="ralate_video" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="assetRemarkInfo" column="asset_remark_info" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="remark" column="remark" javaType="java.lang.String" jdbcType="MEDIUMTEXT"/>
        <result property="attach" column="attach" javaType="java.lang.String" jdbcType="TEXT"/>
        <result property="rawAddTime" column="raw_add_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="rawUpdateTime" column="raw_update_time" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>


    <!-- ============================================= -->
    <!-- mapped statements for IbatisPledgeAssetDAO -->
    <!-- ============================================= -->
    <!-- mapped statement for IbatisPledgeAssetDAO.insert -->
    <insert id="MS-PLEDGE-ASSET-INSERT">
        INSERT /*MS-YRD-PLEDGE-ASSET-INSERT*/ INTO pledge_asset
					(type_id,
						asset_type,
						asset_type_desc,
						project_code,
						project_name,
						ownership_id,
						ownership_name,
						is_customer,
						warrant_no,
						evaluation_price,
						status,
						longitude,
						latitude,
						user_id,
						user_account,
						user_name,
						search_key,
						ralate_video,
						asset_remark_info,
						remark,
						attach,
						raw_add_time)  
				VALUES (#typeId#, #assetType#, #assetTypeDesc#, #projectCode#,#projectName#,#ownershipId#,#ownershipName#,#isCustomer#,#warrantNo#,#evaluationPrice#,#status#,#longitude#,#latitude#,#userId#,#userAccount#,#userName#,#searchKey#,#ralateVideo#,#assetRemarkInfo#,#remark#,#attach#,#rawAddTime#)
				<selectKey  resultClass ="long"  keyProperty ="assetsId" >   
		          		 SELECT LAST_INSERT_ID() AS ID 
		      	</selectKey>
    </insert>

    <!-- mapped statement for IbatisPledgeAssetDAO.update -->
    <update id="MS-PLEDGE-ASSET-UPDATE">
    <![CDATA[
        update /*MS-YRD-PLEDGE-ASSET-UPDATE*/ pledge_asset set type_id=#typeId#, asset_type=#assetType#, asset_type_desc=#assetTypeDesc#, project_code=#projectCode#, project_name=#projectName#, ownership_id=#ownershipId#, ownership_name=#ownershipName#, is_customer=#isCustomer#, warrant_no=#warrantNo#, evaluation_price=#evaluationPrice.cent#, status=#status#, longitude=#longitude#, latitude=#latitude#, user_id=#userId#, user_account=#userAccount#, user_name=#userName#, search_key=#searchKey#, ralate_video=#ralateVideo#, asset_remark_info=#assetRemarkInfo#, remark=#remark#, attach=#attach# where (assets_id = #assetsId#)
    ]]>
    </update>

    <!-- mapped statement for IbatisPledgeAssetDAO.findById -->
    <select id="MS-PLEDGE-ASSET-FIND-BY-ID" resultMap="RM-PLEDGE-ASSET">
    <![CDATA[
        select /*MS-YRD-PLEDGE-ASSET-FIND-BY-ID*/ * from pledge_asset where (assets_id = #value#)
    ]]>
    </select>

    <!-- mapped statement for IbatisPledgeAssetDAO.deleteById -->
    <delete id="MS-PLEDGE-ASSET-DELETE-BY-ID">
    <![CDATA[
        delete /*MS-YRD-PLEDGE-ASSET-DELETE-BY-ID*/ from pledge_asset where (assets_id = #value#)
    ]]>
    </delete>

    <!-- mapped statement for IbatisPledgeAssetDAO.findByCondition -->
    <select id="MS-PLEDGE-ASSET-FIND-BY-CONDITION" resultMap="RM-PLEDGE-ASSET">
        SELECT /*MS-YRD-PLEDGE-ASSET-FIND-BY-CONDITION*/ * from pledge_asset where 1=1
	        <dynamic>
	       		 <isGreaterThan property="pledgeAsset.assetsId"  compareValue="0" prepend=" and ">
	               assets_id = #pledgeAsset.assetsId#
	            </isGreaterThan>
	            
	            <isGreaterThan property="pledgeAsset.typeId"  compareValue="0" prepend=" and ">
	               type_id = #pledgeAsset.typeId#
	            </isGreaterThan>
	            <isGreaterThan property="pledgeAsset.userId"  compareValue="0" prepend=" and ">
	               user_id = #pledgeAsset.userId#
	            </isGreaterThan>
	            <isNotEmpty property="pledgeAsset.userAccount" prepend=" and ">
	               user_account like concat('%',#pledgeAsset.userAccount#,'%')
	            </isNotEmpty>
	             <isNotEmpty property="pledgeAsset.userName" prepend=" and ">
	               user_name like concat('%',#pledgeAsset.userName#,'%')
	            </isNotEmpty>
	             <isNotEmpty property="pledgeAsset.assetType" prepend=" and ">
	               asset_type like concat('%',#pledgeAsset.assetType#,'%')
	            </isNotEmpty>
	            
	            <isNotEmpty property="pledgeAsset.assetTypeDesc" prepend=" and ">
	               asset_type_desc like concat('%',#pledgeAsset.assetTypeDesc#,'%')
	            </isNotEmpty>
	            
	            <isNotEmpty property="pledgeAsset.projectCode" prepend=" and ">
	               project_code like concat('%',#pledgeAsset.projectCode#,'%')
	            </isNotEmpty>
	    
	             <isNotEmpty property="pledgeAsset.projectName" prepend=" and ">
	               project_name like concat('%',#pledgeAsset.projectName#,'%')
	            </isNotEmpty>	
	            <isNotEmpty property="pledgeAsset.ownershipName" prepend=" and ">
	               ownership_name like concat('%',#pledgeAsset.ownershipName#,'%')
	            </isNotEmpty>	
	            
	              <isNotEmpty property="pledgeAsset.warrantNo" prepend=" and ">
	               warrant_no = #pledgeAsset.warrantNo#
	            </isNotEmpty>  
	            <isNotEmpty property="pledgeAsset.isCustomer" prepend=" and ">
	               is_customer = #pledgeAsset.isCustomer#
	            </isNotEmpty>  
	            <isNotEmpty property="pledgeAsset.status" prepend=" and ">
	               status = #pledgeAsset.status#
	            </isNotEmpty>  
	             <isNotEmpty property="assetsIdList" prepend=" and ">
	             	assets_id IN 
	    			<iterate property="assetsIdList" conjunction="," open="(" close=")">
	             		#assetsIdList[]# 
	    			 </iterate>
				</isNotEmpty>	
				<isNotEmpty property="pledgeAsset.ralateVideo" prepend=" and ">
	               ralate_video is not null
	            </isNotEmpty>  
	             <isNotEmpty property="pledgeAsset.assetRemarkInfo" prepend=" and ">
	               asset_remark_info like concat('%',#pledgeAsset.assetRemarkInfo#,'%')
	            </isNotEmpty>    
	        </dynamic>
	         <isNotEmpty property="sortCol" prepend=" order by ">
	             $sortCol$
	                <isNotEmpty property="sortOrder">
              	 		$sortOrder$
             		</isNotEmpty>
	         </isNotEmpty>
            LIMIT #limitStart#,#pageSize#;
    </select>

    <!-- mapped statement for IbatisPledgeAssetDAO.findByConditionCount -->
    <select id="MS-PLEDGE-ASSET-FIND-BY-CONDITION-COUNT" resultClass="long">
        SELECT /*MS-YRD-PLEDGE-ASSET-FIND-BY-CONDITION-COUNT*/  count(*)  FROM pledge_asset  where 1=1
	        <dynamic>
	              <isGreaterThan property="pledgeAsset.assetsId"  compareValue="0" prepend=" and ">
	               assets_id = #pledgeAsset.assetsId#
	            </isGreaterThan>
	            
	            <isGreaterThan property="pledgeAsset.typeId"  compareValue="0" prepend=" and ">
	               type_id = #pledgeAsset.typeId#
	            </isGreaterThan>
	            <isGreaterThan property="pledgeAsset.userId"  compareValue="0" prepend=" and ">
	               user_id = #pledgeAsset.userId#
	            </isGreaterThan>
	            <isNotEmpty property="pledgeAsset.userAccount" prepend=" and ">
	               user_account like concat('%',#pledgeAsset.userAccount#,'%')
	            </isNotEmpty>
	             <isNotEmpty property="pledgeAsset.userName" prepend=" and ">
	               user_name like concat('%',#pledgeAsset.userName#,'%')
	            </isNotEmpty>
	             <isNotEmpty property="pledgeAsset.assetType" prepend=" and ">
	               asset_type like concat('%',#pledgeAsset.assetType#,'%')
	            </isNotEmpty>
	            
	            <isNotEmpty property="pledgeAsset.assetTypeDesc" prepend=" and ">
	               asset_type_desc like concat('%',#pledgeAsset.assetTypeDesc#,'%')
	            </isNotEmpty>
	            
	            <isNotEmpty property="pledgeAsset.projectCode" prepend=" and ">
	               project_code like concat('%',#pledgeAsset.projectCode#,'%')
	            </isNotEmpty>
	   			 <isNotEmpty property="pledgeAsset.ownershipName" prepend=" and ">
	               ownership_name like concat('%',#pledgeAsset.ownershipName#,'%')
	            </isNotEmpty>	
	             <isNotEmpty property="pledgeAsset.projectName" prepend=" and ">
	               project_name like concat('%',#pledgeAsset.projectName#,'%')
	            </isNotEmpty>	
	              <isNotEmpty property="pledgeAsset.warrantNo" prepend=" and ">
	               warrant_no = #pledgeAsset.warrantNo#
	            </isNotEmpty>  
	            <isNotEmpty property="pledgeAsset.isCustomer" prepend=" and ">
	               is_customer = #pledgeAsset.isCustomer#
	            </isNotEmpty>  
	            <isNotEmpty property="pledgeAsset.status" prepend=" and ">
	               status = #pledgeAsset.status#
	            </isNotEmpty>  
	             <isNotEmpty property="assetsIdList" prepend=" and ">
	             	assets_id IN 
	    			<iterate property="assetsIdList" conjunction="," open="(" close=")">
	             		#assetsIdList[]# 
	    			 </iterate>
				</isNotEmpty>	
				<isNotEmpty property="pledgeAsset.ralateVideo" prepend=" and ">
	               ralate_video is not null
	            </isNotEmpty>    
	            <isNotEmpty property="pledgeAsset.assetRemarkInfo" prepend=" and ">
	               asset_remark_info like concat('%',#pledgeAsset.assetRemarkInfo#,'%')
	            </isNotEmpty>         
	        </dynamic>
    </select>

</sqlMap>
